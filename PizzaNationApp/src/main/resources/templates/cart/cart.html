<main>
    <div class="page_bckgrnd_img">
        <div class="wrapper">
            <div class="white_page">
                <div class="page_pad">

                    <div class="table_header">
                        <div id="cartform_table_title">Menu items</div>
                    </div>

                    <div class="div_padded_table">


                        <th:block th:if="${model} == null or ${#lists.size(model.getProducts())} == 0">
                            <div class="pad30"><!-- pad --></div>

                            <div class="align_center bold">Your shopping cart is empty, you can add products
                                from <a href="/menu">here</a>.
                            </div>
                        </th:block>

                        <th:block th:if="${model} != null">
                            <th:block th:each="product,iter : ${model.getProducts()}"
                                      th:object="${product}">
                                <div th:id="${product.getName()}" class="tr odd" th:fragment="cartDetails">
                                    <div class="cart2">
                                        <p class="product_info_name" th:text="*{name}"></p>
                                        <p class="product_info" th:text="|Sold : *{totalSales} time/s|"></p>
                                        <th:block th:if="*{promotional}">
                                            <p class="product_info promotionalProduct">On Promotion !</p>
                                        </th:block>
                                        <div class="mobile_show" style="text-align: left;">
                                            <span><p class="product_info" th:text="*{price}"></p></span>
                                        </div>
                                    </div>
                                    <div class="cart3">
                                        <b th:text="|£*{price}|"></b>
                                    </div>
                                    <div class="cart_remove_div">
                                        <a th:id="*{name}"
                                           class="button_flat button_flat_red cart_remove remove_product_btn"
                                           title="Remove from cart">X</a>
                                    </div>
                                    <div class="clear"><!-- clear --></div>
                                </div>
                            </th:block>
                        </th:block>

                        <div class="tr"><!-- --></div>

                        <th:block th:if="${model} != null and ${#lists.size(model.getProducts())} > 0">
                            <div class="tr odd">
                                <div class="cart2"><b>Subtotal</b></div>
                                <div class="cart3 subtotal_price_holder"
                                     th:text="|£${model.calculateTotalPrice()}|"></div>
                                <div class="cart4 subtotal_price_holder">
                                    <div class="mobile_show" th:text="|£${model.calculateTotalPrice()}|"
                                         style="text-align: left;">
                                    </div>
                                </div>
                                <div class="clear"><!-- clear --></div>
                            </div>

                            <div class="tr even">
                                <div class="cart2"><b>Delivery to your door</b></div>
                                <div class="cart3">£10</div>
                                <div class="cart4">
                                    <div class="mobile_show" style="text-align: left;">£10</div>
                                </div>
                                <div class="clear"><!-- clear --></div>
                            </div>
                            <div class="tr odd">
                                <div class="cart2"><span style="font-size: 20px;"><b>Total</b></span></div>
                                <div class="cart3"><span class="total_price_holder"
                                                         th:text="|£${model.calculateTotalPriceWithDelivery()}|"
                                                         style="font-size: 20px; font-weight: bold"><b></b> </span>
                                </div>
                                <div class="cart4">
                                    <div class="mobile_show" style="text-align: left; font-size: 20px;"><b
                                            th:text="|£${model.calculateTotalPriceWithDelivery()}|"
                                            class="total_price_holder"></b>
                                    </div>
                                </div>
                                <div class="clear"><!-- clear --></div>
                            </div>
                        </th:block>
                    </div>
                </div>

                <div class="pad25"><!-- pad --></div>

                <div style="text-align: center;">

                    <div class="mobile_show">
                        <div class="pad10"><!-- spacer --></div>
                    </div>
                    <a th:href="@{/cart/checkout}" class="button_flat button_flat_green">Proceed »</a>
                </div>

                <div class="pad10"></div>
            </div>
        </div>
    </div>
</main>